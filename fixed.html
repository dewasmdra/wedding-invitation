<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wedding Invitation</title>
    <style>
      html,
      body,
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
        overflow: hidden; /* Default: no scroll */
      }

      /* Mobile Container */
      .mobile-container {
        display: none;
      }

      @media screen and (max-width: 768px) {
        .mobile-container {
          display: block;
          width: 100vw;
          min-height: 100vh; /* Initial height tanpa scroll */
          position: relative;
        }

        /* Ketika scroll enabled, container menjadi tinggi untuk scroll */
        .mobile-container.scroll-enabled {
          min-height: 400vh; /* Tambah tinggi untuk scroll */
        }

        .video-frame-section {
          position: sticky;
          top: 0;
          width: 100%;
          height: 100vh;
          z-index: 10;
          transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        }

        .video-frame {
          width: 100%;
          height: 100%;
          object-fit: cover;
          pointer-events: none;
        }

        .button-click-area {
          position: absolute;
          bottom: 20%;
          left: 50%;
          transform: translateX(-50%);
          width: 200px;
          height: 60px;
          z-index: 20;
          cursor: pointer;
        }

        /* Frame yang aktif ditampilkan dengan animasi */
        .scroll-frame {
          visibility: hidden;
          opacity: 0;
          transform: translateY(50px);
          transition: all 1.5s ease-in-out;
        }

        .scroll-frame.active {
          visibility: visible;
          opacity: 1;
          transform: translateY(0);
        }

        /* Animasi fade out untuk frame pertama */
        .video-frame-section.fade-out {
          opacity: 0;
          transform: translateY(-50px);
        }

        /* Animasi slide in dari kanan */
        .scroll-frame.slide-in-right {
          visibility: visible;
          opacity: 1;
          transform: translateX(0);
          animation: slideInRight 1s ease-in-out;
        }

        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        /* Animasi slide in dari bawah */
        .scroll-frame.slide-in-bottom {
          visibility: visible;
          opacity: 1;
          transform: translateY(0);
          animation: slideInBottom 1s ease-in-out;
        }

        @keyframes slideInBottom {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        /* Animasi zoom in */
        .scroll-frame.zoom-in {
          visibility: visible;
          opacity: 1;
          transform: scale(1);
          animation: zoomIn 1s ease-in-out;
        }

        @keyframes zoomIn {
          from {
            transform: scale(0.5);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }

        /* Animasi untuk auto scroll */
        .auto-scrolling {
          scroll-behavior: smooth;
        }
      }

      /* Pesan untuk desktop */
      .desktop-message {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: Arial, sans-serif;
        font-size: 18px;
        color: #666;
        text-align: center;
        padding: 20px;
      }

      @media screen and (max-width: 768px) {
        .desktop-message {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Container untuk mobile -->
    <div class="mobile-container" id="mobileContainer">
      <!-- Frame pertama (dengan button buka undangan) -->
      <section class="video-frame-section" id="firstFrame">
        <video class="video-frame" autoplay muted loop playsinline>
          <source src="frame.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>

        <!-- Area clickable untuk button di video -->
        <div class="button-click-area" onclick="nextFrame()"></div>
      </section>

      <!-- Frame kedua (yang muncul setelah klik button) -->
      <section class="video-frame-section scroll-frame" id="secondFrame">
        <video class="video-frame" autoplay muted loop playsinline>
          <source src="frame2.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </section>

      <!-- Frame ketiga (scroll frame) -->
      <section class="video-frame-section scroll-frame" id="thirdFrame">
        <video class="video-frame" autoplay muted loop playsinline>
          <source src="frame3.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </section>

      <!-- Frame keempat (scroll frame) -->
      <section class="video-frame-section scroll-frame" id="fourthFrame">
        <video class="video-frame" autoplay muted loop playsinline>
          <source src="frame4.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </section>
    </div>

    <!-- Pesan untuk desktop -->
    <div class="desktop-message">
      <div>
        <h2>Wedding Invitation</h2>
        <p>
          Please open this invitation on your mobile device for the best
          experience.
        </p>
      </div>
    </div>

    <script>
      let currentFrame = 1;
      let isAnimating = false;

      function nextFrame() {
        // Fade out frame pertama dengan animasi
        document.getElementById("firstFrame").classList.add("fade-out");

        // Setelah 1 detik, sembunyikan frame pertama dan tampilkan frame kedua
        setTimeout(() => {
          document.getElementById("firstFrame").style.display = "none";
          document.getElementById("secondFrame").classList.add("active");
          currentFrame = 2;

          // Otomatis transisi ke frame3 setelah 2 detik
          setTimeout(() => {
            triggerFrameAnimation(3);
          }, 2000);
        }, 1000);
      }

      // Otomatis transisi ke frame4 setelah frame3 muncul
      function triggerFrameAnimation(targetFrame) {
        if (isAnimating) return;

        isAnimating = true;

        hideAllFrames();

        setTimeout(() => {
          showFrameWithAnimation(targetFrame);
          currentFrame = targetFrame;

          // Jika ke frame3, lanjut otomatis ke frame4 setelah 2 detik
          if (targetFrame === 3) {
            setTimeout(() => {
              triggerFrameAnimation(4);
            }, 2000);
          }

          setTimeout(() => {
            isAnimating = false;
          }, 1000);
        }, 200);
      }

      function hideAllFrames() {
        // Remove all animation classes and hide frames
        const frames = ["secondFrame", "thirdFrame", "fourthFrame"];
        frames.forEach((frameId) => {
          const frame = document.getElementById(frameId);
          frame.classList.remove(
            "active",
            "slide-in-right",
            "slide-in-bottom",
            "zoom-in"
          );
        });
      }

      function showFrameWithAnimation(frameNumber) {
        const frameIds = ["", "", "secondFrame", "thirdFrame", "fourthFrame"];

        if (frameIds[frameNumber]) {
          const frame = document.getElementById(frameIds[frameNumber]);
          // Hapus semua class animasi sebelum menambah yang baru
          frame.classList.remove(
            "active",
            "slide-in-right",
            "slide-in-bottom",
            "zoom-in"
          );

          // Tambahkan class animasi dan 'active' agar frame tampil
          if (frameNumber === 3) {
            frame.classList.add("slide-in-right", "active");
          } else if (frameNumber === 4) {
            frame.classList.add("zoom-in", "active");
          } else if (frameNumber === 2) {
            frame.classList.add("active");
          }
        }
      }
    </script>
  </body>
</html>
